!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t["@jsmini/util-tools"]={})}(this,function(t){"use strict";function e(t){var e=!1;return function(){return e?void 0:(e=!0,t.apply(this,arguments))}}function o(t,e){void 0===e&&(e=500);var o=null;return function(){var n=this,r=arguments;o&&clearTimeout(o),o=setTimeout(function(){t.apply(n,r)},e)}}function n(t,e){void 0===e&&(e=500);var o,n,r=arguments;return function i(){var u=this,a=Date.now();n||(n=a),o&&clearTimeout(o),a-n>=e?(t.apply(u,r),n=a):o=setTimeout(function(){i.apply(u,r)},50)}}function r(t,e,o){void 0===o&&(o="id");var n=Object.create(null);t.forEach(function(t){n[t[o]]=t});var r=[];return t.forEach(function(t){var o=n[t[e]];if(o){(o.children||(o.children=[])).push(t)}else r.push(t)}),r}function i(t,e,o){void 0===e&&(e="name"),void 0===o&&(o="value");var n=[];for(var r in t){var i=Object.create(null);i[e]=r,i[o]=t[r],n.push(i)}return n}function u(t,e,o){void 0===e&&(e="name"),void 0===o&&(o="value");var n=Object.create(null);return t.forEach(function(t){n[t[e]]=t[o]}),n}var a=function(){function t(t,e){return void 0===t&&(t=!1),void 0===e&&(e=!0),this.isLocal=t,this.deep=e,this.methodType=this.method(),this.singleInstance()}return t.prototype.singleInstance=function(){return window&&this.deep&&"boolean"==typeof this.isLocal?(window.$Storage||(window.$Storage=this),window.$Storage):this},t.prototype.method=function(){return"boolean"==typeof this.isLocal&&this.isLocal?localStorage:sessionStorage},t.prototype.type=function(t){return("number"==typeof t&&isNaN(t)||void 0===t)&&console.error("value is not avaliable"),"number"==typeof t?t===1/0||t===-1/0?"Infinity":"number":"object"==typeof t||"boolean"==typeof t?"mixins":"string"},t.prototype.transformToString=function(t){var e=this.type(t),o={};return o="Infinity"===e?{type:e,value:String(t)}:{type:e,value:t},JSON.stringify(o)},t.prototype.transformStringTo=function(t){var e=JSON.parse(t||"{}");return"Infinity"===e.type?Number(e.value):e.value},t.prototype.set=function(t,e){if("string"==typeof t)this.methodType.setItem(t,this.transformToString(e));else for(var o in t)this.set(o,t[o])},t.prototype.get=function(t){if("string"==typeof t)return this.transformStringTo(this.methodType.getItem(t));for(var e={},o=0;o<t.length;o++)e[t[o]]=this.get(t[o]);return e},t.prototype.getAll=function(){var t=Object.keys(this.methodType);return this.get(t)},t.prototype.remove=function(t){if("string"==typeof t)this.methodType.removeItem(t);else for(var e=0;e<t.length;e++)this.remove(t[e])},t.prototype.removeAll=function(){this.methodType.clear()},t.prototype.destroyed=function(){window&&this.deep&&"boolean"==typeof this.isLocal&&(window.$Storage=null)},t}();t.__Once=e,t.__Debounce=o,t.__Throttle=n,t.__ToTree=r,t.__MapToArray=i,t.__ArrayToMap=u,t.Storage=a,Object.defineProperty(t,"__esModule",{value:!0})});
